<!--
============================================
; Title: EMS List
; Author: Professor Krasso
; Date: 12 February 2022
; Modified By: Joel Hartung
; Description: list.ejs
; Code Attribution: How to Use EJS To Template Your Node Application
; URL: https://www.digitalocean.com/community/tutorials/how-to-use-ejs-to-template-your-node-application
; Code Attribution: Additional code from WEB 340 Assignment documentation & WEB 340 Course Repository
;===========================================
-->
<!-- Tabular view of employee records -->
<%- include('header') -%>
<%- include('navbar') -%>
<div role="main" class="container" style="width: 30%; margin-top: 5%">
    <div class="card">
        <% if (employees.length) { %>
        <br /><h2 style="text-align:center">Employee Listing</h2><br />
        <a href="/new"> Add New</a>
        <table class="table table-hover">
            <thead class="thead-dark">
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Functions</th>
                </tr>
            </thead>
            <tbody>
                <% employees.forEach(function (entry) { %>
                <tr>
                    <td><%= entry.firstName %></td>
                    <td><%= entry.lastName %></td>
                    <td><a href="/view/<%= entry.firstName %>">VIEW</a></td>
                </tr>
            </tbody>
            <% }) %>
        </table>
        <% } else { %>
        No entries! <a href="/new">Add one!</a> 
        <% } %>
       
    </div>
    <a href="/">Return Home</a>
</div>

<%- include('footer') -%>
<%- include('scripts') -%>
